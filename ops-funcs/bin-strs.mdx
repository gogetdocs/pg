## Binary String Functions and Operators

PostgreSQL provides a variety of functions and operators for examining and manipulating binary strings, which are values of type `bytea`. This section describes these functions and operators, along with usage examples.

### SQL Binary String Functions and Operators

The following table lists SQL-standard binary string functions and operators:

#### Table 9.11. SQL Binary String Functions and Operators

| Function/Operator                                                                                  | Description                                                                                                                                                                       | Example(s)                                                                           |
| -------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------- | --- | ------------------------------------------- |
| `bytea                                                                                             |                                                                                                                                                                                   | bytea → bytea`                                                                       | Concatenates two binary strings.                                                                                                             | `'\x123456'::bytea                                                  |     | '\x789a00bcde'::bytea → \x123456789a00bcde` |
| `bit_length(bytea) → integer`                                                                      | Returns the number of bits in the binary string (8 times the octet_length).                                                                                                       | `bit_length('\x123456'::bytea) → 24`                                                 |
| `octet_length(bytea) → integer`                                                                    | Returns the number of bytes in the binary string.                                                                                                                                 | `octet_length('\x123456'::bytea) → 3`                                                |
| `overlay(bytes bytea PLACING newsubstring bytea FROM start integer [ FOR count integer ]) → bytea` | Replaces the substring of bytes that starts at the start'th byte and extends for count bytes with newsubstring. If count is omitted, it defaults to the length of newsubstring.   | `overlay('\x1234567890'::bytea placing '\002\003'::bytea from 2 for 3) → \x12020390` |
| `position(substring bytea IN bytes bytea) → integer`                                               | Returns the first starting index of the specified substring within bytes, or zero if it's not present.                                                                            | `position('\x5678'::bytea in '\x1234567890'::bytea) → 3`                             |
| `substring(bytes bytea [ FROM start integer ] [ FOR count integer ]) → bytea`                      | Extracts the substring of bytes starting at the start'th byte if that is specified, and stopping after count bytes if that is specified. Provide at least one of start and count. | `substring('\x1234567890'::bytea from 3 for 2) → \x5678`                             |
| `trim([ LEADING                                                                                    | TRAILING                                                                                                                                                                          | BOTH ] bytesremoved bytea FROM bytes bytea) → bytea`                                 | Removes the longest string containing only bytes appearing in bytesremoved from the start, end, or both ends (BOTH is the default) of bytes. | `trim('\x9012'::bytea from '\x1234567890'::bytea) → \x345678`       |
| `trim([ LEADING                                                                                    | TRAILING                                                                                                                                                                          | BOTH ] [ FROM ] bytes bytea, bytesremoved bytea) → bytea`                            | Non-standard syntax for trim().                                                                                                              | `trim(both from '\x1234567890'::bytea, '\x9012'::bytea) → \x345678` |

### Other Binary String Functions

The following table lists additional binary string manipulation functions:

#### Table 9.12. Other Binary String Functions

| Function                                                     | Description                                                                                                 | Example(s)                                                                                  |
| ------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------- |
| `bit_count(bytes bytea) → bigint`                            | Returns the number of bits set in the binary string (also known as “popcount”).                             | `bit_count('\x1234567890'::bytea) → 15`                                                     |
| `btrim(bytes bytea, bytesremoved bytea) → bytea`             | Removes the longest string containing only bytes appearing in bytesremoved from the start and end of bytes. | `btrim('\x1234567890'::bytea, '\x9012'::bytea) → \x345678`                                  |
| `get_bit(bytes bytea, n bigint) → integer`                   | Extracts n'th bit from binary string.                                                                       | `get_bit('\x1234567890'::bytea, 30) → 1`                                                    |
| `get_byte(bytes bytea, n integer) → integer`                 | Extracts n'th byte from binary string.                                                                      | `get_byte('\x1234567890'::bytea, 4) → 144`                                                  |
| `length(bytea) → integer`                                    | Returns the number of bytes in the binary string.                                                           | `length('\x1234567890'::bytea) → 5`                                                         |
| `length(bytes bytea, encoding name) → integer`               | Returns the number of characters in the binary string, assuming that it is text in the given encoding.      | `length('jose'::bytea, 'UTF8') → 4`                                                         |
| `ltrim(bytes bytea, bytesremoved bytea) → bytea`             | Removes the longest string containing only bytes appearing in bytesremoved from the start of bytes.         | `ltrim('\x1234567890'::bytea, '\x9012'::bytea) → \x34567890`                                |
| `md5(bytea) → text`                                          | Computes the MD5 hash of the binary string, with the result written in hexadecimal.                         | `md5('Th\000omas'::bytea) → 8ab2d3c9689aaf18b4958c334c82d8b1`                               |
| `rtrim(bytes bytea, bytesremoved bytea) → bytea`             | Removes the longest string containing only bytes appearing in bytesremoved from the end of bytes.           | `rtrim('\x1234567890'::bytea, '\x9012'::bytea) → \x12345678`                                |
| `set_bit(bytes bytea, n bigint, newvalue integer) → bytea`   | Sets n'th bit in binary string to newvalue.                                                                 | `set_bit('\x1234567890'::bytea, 30, 0) → \x1234563890`                                      |
| `set_byte(bytes bytea, n integer, newvalue integer) → bytea` | Sets n'th byte in binary string to newvalue.                                                                | `set_byte('\x1234567890'::bytea, 4, 64) → \x1234567840`                                     |
| `sha224(bytea) → bytea`                                      | Computes the SHA-224 hash of the binary string.                                                             | `sha224('abc'::bytea) → \x23097d223405d8228642a477bda255b32aadbce4bda0b3f7e36c9da7`         |
| `sha256(bytea) → bytea`                                      | Computes the SHA-256 hash of the binary string.                                                             | `sha256('abc'::bytea) → \xba7816bf8f01cfea414140de5dae2223b00361a396177a9cb410ff61f20015ad` |
| `sha384(bytea) → bytea`                                      | Computes the SHA-384 hash of the binary string.                                                             | `sha384('abc'::bytea) → \xcb                                                                |
